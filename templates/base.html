<!-- Main base template for VHP4Safety web app, other HTML's are all added in this one -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VHP4Safety</title>

    {% if config.DEBUG %}
    <!-- we are running in DEBUG mode -->
    {% else %}
    <!-- we are NOT running in DEBUG mode -->
    {% endif %}
    
    <!-- Bootstrap 5.3.8 CSS -->
    <link href="/static/css/bootstrap-custom.css" rel="stylesheet">
    <link href="/static/css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

    <!-- jQuery -->
    <script defer src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <!-- Cytoscape.js for network visualization -->
    <script src="/static/js/cytoscape.min.js"></script>

    <!-- Jmol for molecular visualization -->
    <script src="/static/js/JSmol.min.js"></script>

    <!-- Goatcounter.com, the GDPR-compliant page visit counter -->
    <script data-goatcounter="https://vhp4safety.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>

    <!-- Favicon -->
    <link
      rel="icon"
      href="/static/images/logos/icon/PNG/300ppi/VHP_Icon_Head_300.png"
      type="image/x-icon"
    />

    <!-- Main JavaScript functions for UI interactions -->
    <script>
   
      // Hide the scroll-down arrow when user nears bottom
      document.addEventListener("scroll", () => {
        const arrow = document.querySelector(".scroll-down-arrow");
        if (!arrow) return;

        const bottomOffset = 100; // px tolerance before actual bottom
        const isAtBottom =
          window.innerHeight + window.scrollY >= document.body.offsetHeight - bottomOffset;

        arrow.classList.toggle("d-none", isAtBottom);
      });

     
      // Scroll to next section (used for navigation)
      function scrollToNextSection() {
        window.scrollBy({ top: window.innerHeight / 1.5, behavior: "smooth" });
      }

    </script>
  </head>

  <nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom fixed-top">
    <div class="container-fluid d-flex align-items-center justify-content-between">

    <!-- Logo -->
    <a class="navbar-brand ms-3" href="/">
      <img
        src="/static/images/logos/logo/PNG/300ppi/VHP_Logo_Long_02_300.png"
        alt="VHP4Safety Logo"
        height="70"
        class="d-inline-block align-text-top"
      />
    </a>

     <!-- Search bar -->
  <div class="flex-grow-1 d-flex justify-content-center me-3" style="max-width: 250px;">
    <form class="d-flex w-100" role="search" onsubmit="runSearch(); return false;">
      <input class="form-control me-2" type="search" placeholder="Search site..." id="searchInput" aria-label="Search">
      <button class="btn btn-vhppurple" type="submit">Search</button>
    </form>
  </div>

  <!-- Hamburger toggler for mobile -->
  <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasMenu" aria-controls="offcanvasMenu" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <!-- Desktop buttons (hidden on mobile) -->
  <div class="d-none d-lg-flex align-items-center gap-3">
    <!-- Tools Button Group -->
    <div class="btn-group" role="group">
      <button class="btn btn-vhplight-green text-nowrap" style="min-width: 120px;" onclick="location.href='/methods'"
        type="button">Methods</button>
      <button type="button" class="btn btn-vhplight-green dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown"
        aria-expanded="false">
        <span class="visually-hidden">Toggle Dropdown</span>
      </button>
      <ul class="dropdown-menu dropdown-scroll">
        {% if methods_menu %}
          {% for m in methods_menu %}
            <li><a class="dropdown-item" href="/methods/{{ m.id }}">{{ m.title }}</a></li>
          {% endfor %}
        {% else %}
          <li><span class="dropdown-item-text text-muted">No methods available</span></li>
        {% endif %}
      </ul>
    </div>
    <!-- Tools Button Group -->
    <div class="btn-group" role="group">
      <button class="btn btn-vhppink text-nowrap" style="min-width: 120px;" onclick="location.href='/tools'" type="button">Tools</button>
      <button type="button" class="btn btn-vhppink dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
        <span class="visually-hidden">Toggle Dropdown</span>
      </button>
      <ul class="dropdown-menu dropdown-scroll">
        <li><a class="dropdown-item" href="/tools/aop-builder">AOP-builder</a></li>
        <li><a class="dropdown-item" href="/tools/aopsuite">AOP-Suite</a></li>
        <li><a class="dropdown-item" href="/tools/aopwikiapi">AOP-Wiki API</a></li>
        <li><a class="dropdown-item" href="/tools/aopwiki">AOP-Wiki Snorql UI</a></li>
        <li><a class="dropdown-item" href="/tools/arrayanalysis">ArrayAnalysis</a></li>
        <li><a class="dropdown-item" href="/tools/biomodels">BioModels</a></li>
        <li><a class="dropdown-item" href="/tools/biotransformer">BioTransformer</a></li>
        <li><a class="dropdown-item" href="/tools/bmdexpress_3">BMDExpress-3</a></li>
        <li><a class="dropdown-item" href="/tools/bridgedb">BridgeDB</a></li>
        <li><a class="dropdown-item" href="/tools/cdkdepict">CDK Depict</a></li>
        <li><a class="dropdown-item" href="/tools/celldesigner">CellDesigner</a></li>
        <li><a class="dropdown-item" href="/tools/comptox">CompTox</a></li>
        <li><a class="dropdown-item" href="/tools/copasi">COPASI</a></li>
        <li><a class="dropdown-item" href="/tools/cplogd">cpLogD</a></li>
        <li><a class="dropdown-item" href="/tools/decimer">DECIMER</a></li>
        <li><a class="dropdown-item" href="/tools/ema_documents">EMA Documents</a></li>
        <li><a class="dropdown-item" href="/tools/fairdomhub">FAIRDOMHub</a></li>
        <li><a class="dropdown-item" href="/tools/fairspace">Fairspace</a></li>
        <li><a class="dropdown-item" href="/tools/farmacokompas">Farmatherapeutisch Kompas</a></li>
        <li><a class="dropdown-item" href="/tools/flame">Flame</a></li>
        <li><a class="dropdown-item" href="/tools/gscholar">Google scholar</a></li>
        <li><a class="dropdown-item" href="/tools/google">Google Search</a></li>
        <li><a class="dropdown-item" href="/tools/jrc_data_catalogue">JRC data catalogue</a></li>
        <li><a class="dropdown-item" href="/tools/llemy">Llemy</a></li>
        <li><a class="dropdown-item" href="/tools/mct8-dock">MCT8 docking for MIE discovery</a></li>
        <li><a class="dropdown-item" href="/tools/MolAOP analyser">MolAOP analyser</a></li>
        <li><a class="dropdown-item" href="/tools/dsld">NIH Dietary Supplement Label Database</a></li>
        <li><a class="dropdown-item" href="/tools/oqt_assistant">O-QT-OECD QSAR Toolbox AL assistant</a></li>
        <li><a class="dropdown-item" href="/tools/ontox_physiological_maps">ONTOX Physiological Maps</a></li>
        <li><a class="dropdown-item" href="/tools/oppbk_model">OP PBK Model</a></li>
        <li><a class="dropdown-item" href="/tools/opsin">OPSIN</a></li>
        <li><a class="dropdown-item" href="/tools/qaop_app">qAOP-App</a></li>
        <li><a class="dropdown-item" href="/tools/qspred">QSPRpred</a></li>
        <li><a class="dropdown-item" href="/tools/sombie">SOM Prediction</a></li>
        <li><a class="dropdown-item" href="/tools/sysrev">SysRev</a></li>
        <li><a class="dropdown-item" href="/tools/oecd_qsar_toolbox">OECD QSAR Toolbox</a></li>
        <li><a class="dropdown-item" href="/tools/toxtemp_assistant">ToxTempAssistant</a></li>
        <li><a class="dropdown-item" href="/tools/txg_mapr">TXG-MAPr</a></li>
        <li><a class="dropdown-item" href="/tools/vhp_glossary">VHP4Safety Glossary</a></li>
        <li><a class="dropdown-item" href="/tools/wikibase">VHP4Safety Wikibase</a></li>
        <li><a class="dropdown-item" href="/tools/kb">VHP4Safety Wikibase UI</a></li>
        <li><a class="dropdown-item" href="/tools/wikipathways_aop">WikiPathways-AOP Portal</a></li>
        <li><a class="dropdown-item" href="/tools/xploreaop">xploreaop</a></li>
      </ul>
    </div>

    <!-- Case Studies Button Group -->
    <div class="btn-group" role="group">
      <button class="btn btn-vhpblue text-white text-nowrap" style="min-width: 120px;" onclick="location.href='/casestudies'" type="button">Case Studies</button>
      <button type="button" class="btn btn-vhpblue text-white dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
        <span class="visually-hidden">Toggle Dropdown</span>
      </button>
      <ul class="dropdown-menu dropdown-scroll">
        <li><a class="dropdown-item" href="/casestudies/kidney">Kidney</a></li>
        <li><a class="dropdown-item" href="/casestudies/parkinson">Parkinson’s disease</a></li>
        <li><a class="dropdown-item" href="/casestudies/thyroid">Thyroid</a></li>
      </ul>
    </div>

    <!-- Data Button -->
    <button class="btn btn-vhpteal text-nowrap" style="min-width: 120px;" onclick="location.href='/data'" type="button">Data</button>
  </div>
</nav>

<!-- Offcanvas Menu for Mobile -->
<div class="offcanvas offcanvas-end bg-light-vhpblue" tabindex="-1" id="offcanvasMenu" aria-labelledby="offcanvasMenuLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasMenuLabel">Menu</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <div class="d-flex flex-column gap-2">
      <!-- Tools collapse menu -->
      <div class="d-flex w-100">
        <button class="btn btn-vhppink flex-grow-1 text-nowrap" onclick="location.href='/tools'" data-bs-dismiss="offcanvas">Tools</button>
        <button class="btn btn-vhppink" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTools" aria-expanded="false" aria-controls="collapseTools" style="width: 40px;">▼</button>
      </div>
      <div class="collapse" id="collapseTools">
        <div class="d-flex flex-column ps-3 gap-2">
          <!-- Tools links -->
          <button class="btn btn-light text-start" onclick="location.href='/tools/aop-builder'" data-bs-dismiss="offcanvas">AOP-builder</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/aopsuite'" data-bs-dismiss="offcanvas">AOP-Suite</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/aopwikiapi'" data-bs-dismiss="offcanvas">AOP-Wiki API</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/aopwiki'" data-bs-dismiss="offcanvas">AOP-Wiki Snorql UI</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/arrayanalysis'" data-bs-dismiss="offcanvas">ArrayAnalysis</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/biomodels'" data-bs-dismiss="offcanvas">BioModels</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/biotransformer'" data-bs-dismiss="offcanvas">BioTransformer</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/bmdexpress_3'" data-bs-dismiss="offcanvas">BMDExpress-3</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/bridgedb'" data-bs-dismiss="offcanvas">BridgeDB</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/cdkdepict'" data-bs-dismiss="offcanvas">CDK Depict</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/celldesigner'" data-bs-dismiss="offcanvas">CellDesigner</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/comptox'" data-bs-dismiss="offcanvas">CompTox</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/copasi'" data-bs-dismiss="offcanvas">COPASI</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/cplogd'" data-bs-dismiss="offcanvas">cpLogD</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/decimer'" data-bs-dismiss="offcanvas">DECIMER</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/ema_documents'" data-bs-dismiss="offcanvas">EMA Documents</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/fairdomhub'" data-bs-dismiss="offcanvas">FAIRDOMHub</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/fairspace'" data-bs-dismiss="offcanvas">Fairspace</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/farmacokompas'" data-bs-dismiss="offcanvas">Farmatherapeutisch Kompas</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/flame'" data-bs-dismiss="offcanvas">Flame</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/gscholar'" data-bs-dismiss="offcanvas">Google scholar</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/google'" data-bs-dismiss="offcanvas">Google Search</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/jrc_data_catalogue'" data-bs-dismiss="offcanvas">JRC data catalogue</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/llemy'" data-bs-dismiss="offcanvas">Llemy</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/mct8-dock'" data-bs-dismiss="offcanvas">MCT8 docking for MIE discovery</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/MolAOP analyser'" data-bs-dismiss="offcanvas">MolAOP analyser</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/dsld'" data-bs-dismiss="offcanvas">NIH Database</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/oqt_assistant'" data-bs-dismiss="offcanvas">O-QT-OECD QSAR Toolbox AL assistant</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/ontox_physiological_maps'" data-bs-dismiss="offcanvas">ONTOX Physiological Maps</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/oppbk_model'" data-bs-dismiss="offcanvas">OP PBK Model</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/opsin'" data-bs-dismiss="offcanvas">OPSIN</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/qaop_app'" data-bs-dismiss="offcanvas">qAOP-App</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/qspred'" data-bs-dismiss="offcanvas">QSPRpred</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/sombie'" data-bs-dismiss="offcanvas">SOM Prediction</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/sysrev'" data-bs-dismiss="offcanvas">SysRev</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/oecd_qsar_toolbox'" data-bs-dismiss="offcanvas">OECD QSAR Toolbox</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/toxtemp_assistant'" data-bs-dismiss="offcanvas">ToxTempAssistant</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/txg_mapr'" data-bs-dismiss="offcanvas">TXG-MAPr</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/vhp_glossary'" data-bs-dismiss="offcanvas">VHP4Safety Glossary</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/wikibase'" data-bs-dismiss="offcanvas">VHP4Safety Wikibase</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/kb'" data-bs-dismiss="offcanvas">VHP4Safety Wikibase UI</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/wikipathways_aop'" data-bs-dismiss="offcanvas">WikiPathways-AOP Portal</button>
          <button class="btn btn-light text-start" onclick="location.href='/tools/xploreaop'" data-bs-dismiss="offcanvas">xploreaop</button>
        </div>
      </div>

      <!-- Case Studies collapse menu -->
      <div class="d-flex w-100 mt-2">
        <button class="btn btn-vhpblue text-white flex-grow-1" onclick="location.href='/casestudies'" data-bs-dismiss="offcanvas">Case Studies</button>
        <button class="btn btn-vhpblue text-white" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCaseStudies" aria-expanded="false" aria-controls="collapseCaseStudies" style="width: 40px;">▼</button>
      </div>
      <div class="collapse" id="collapseCaseStudies">
        <div class="d-flex flex-column ps-3 gap-2">
          <button class="btn btn-light text-start" onclick="location.href='/casestudies/kidney'" data-bs-dismiss="offcanvas">Kidney</button>
          <button class="btn btn-light text-start" onclick="location.href='/casestudies/parkinson'" data-bs-dismiss="offcanvas">Parkinson’s disease</button>
          <button class="btn btn-light text-start" onclick="location.href='/casestudies/thyroid'" data-bs-dismiss="offcanvas">Thyroid</button>
        </div>
      </div>

      <!-- Data Button -->
      <button class="btn btn-vhpteal mt-2" onclick="location.href='/data'" data-bs-dismiss="offcanvas">Data</button>
    </div>
  </div>
</div>

  <!-- Main Content Section: replaced by child templates -->
    <main class="">{% block content %} {% endblock %}</main>

  <!-- Footer Section: site links, resources, legal, connect -->
    <footer class="bg-vhplight-blue py-5 mt-auto">
      <div class="container" style="max-width: 55%;">
        <div class="row g-4">
          <div class="col-md-3">
            <h6 class="text-uppercase fw-bold mb-3">EXPLORE</h6>
            <ul class="list-unstyled">
              <li><a href="/tools" class="text-decoration-none link-vhppink fs-7 small">Tools</a></li>
              <li><a href="/casestudies" class="text-decoration-none link-vhppink fs-7 small">Case Studies</a></li>
              <li><a href="/data" class="text-decoration-none link-vhppink fs-7 small">Data</a></li>
            </ul>
          </div>
          <div class="col-md-3">
            <h6 class="text-uppercase fw-bold mb-3">RESOURCES</h6>
            <ul class="list-unstyled">
              <li><a href="{{ url_for('home') }}#about-section" class="text-decoration-none link-vhppink fs-7 small">About</a></li>
              <li><a href="{{ url_for('home') }}#partners-section" class="text-decoration-none link-vhppink fs-7 small">Partners</a></li>
              <li><a href="{{ url_for('home') }}#contact-section" class="text-decoration-none link-vhppink fs-7 small">Contact</a></li>
            </ul>
          </div>
          <div class="col-md-3">
            <h6 class="text-uppercase fw-bold mb-3">LEGAL</h6>
            <ul class="list-unstyled">
              <li><a href="/legal/terms_of_service" class="text-decoration-none link-vhppink fs-7 small">Terms of Service</a></li>
              <li><a href="/legal/privacypolicy" class="text-decoration-none link-vhppink fs-7 small">Privacy Policy</a></li>
            </ul>
          </div>
          <div class="col-md-3">
            <h6 class="text-uppercase fw-bold mb-3">CONNECT</h6>
            <ul class="list-unstyled">
              <li><a href="https://github.com/VHP4Safety" class="text-decoration-none link-vhppink fs-7 small">GitHub</a></li>
              <li><a href="https://www.linkedin.com/company/vhp4safety/posts/?feedView=all" class="text-decoration-none link-vhppink fs-7 small">LinkedIn</a></li>
            </ul>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-12 text-center">
            <p class="mb-0 small">&copy; 2025 VHP4Safety</p>
          </div>
        </div>
      </div>
    </footer>

    <!-- Bootstrap 5.3.3 JS Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <!-- Glossary Term Highlighter -->
    <script src="/static/js/glossary_highlighter.js"></script>

    <!-- script for search bar's functionality -->
    <script src="/static/js/search_bar.js"></script>

  </body>
</html>
